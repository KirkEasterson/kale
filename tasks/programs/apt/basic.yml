- name: Install neovim PPA for neovim nightly
  become: true
  apt_repository:
    repo: 'ppa:neovim-ppa/unstable'

- name: Add volian scar repository for nala
  become: true
  apt_repository:
    state: present
    repo: "deb [arch=amd64,arm64,armhf] http://deb.volian.org/volian/ scar main"
    filename: /etc/apt/sources.list.d/volian-archive-scar-unstable.list

- name: Add volian scar GPG key
  become: true
  url: https://deb.volian.org/volian/scar.key
  keyring: /etc/apt/trusted.gpg.d/volian-archive-scar-unstable.gpg

- name: Update apt packages
  become: true
  apt:
    update_cache: yes

- name: Install apt packages
  become: true
  apt:
    install_recommends: no
    name:
      - git
      - curl
      - tree
      - make
      - cmake
      - gcc
      - build-essential
      - xsel
      - firefox
      - tmux
      - neovim
      - neofetch
      - xclip
      - libxext-dev
      - exiftool
      - libcdio-utils
      - transmission
      - pandoc
      - zathura
      - texlive-latex-base
      - texlive-latex-recommended
      - texlive-latex-extra
      - tlp
      - powertop
      - htop
      - timeshift
      - zsh
      - zsh-common
      - exa
      - bat
      - language-pack-en
      - hwinfo
      - unzip
      - papirus-icon-theme
      - fonts-font-awesome
      - steam-devices
      - ripgrep
      - nala
      - btop
      - kitty
      - mpv

- name: Enable tlp service
  systemd:
    name: tlp
    enabled: yes
