---
name: "lint"

on: ["push"] # yamllint disable-line rule:truthy

jobs:

  yamllint:

    name: "yamllint"
    runs-on: "ubuntu-latest"
    steps:
      - uses: "actions/checkout@v4"
      - uses: "ibiqlik/action-yamllint@v3"

  ansible-lint:
    name: "ansible-lint"
    runs-on: "ubuntu-latest"
    steps:
      - uses: "actions/checkout@v4"

      - name: "Install Ansible"
        run: "sudo apt-get install -y ansible"

      - name: "Install Ansible-Galaxy Requirements"
        run: "ansible-galaxy install -r requirements.yml"

      - name: "List Installed Ansible-Galaxy Requirements"
        run: "ansible-galaxy collection list"

      - uses: "ansible/ansible-lint@v24"
